<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Create Quiz</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <form [formGroup]="quizForm">

    <div formArrayName="quiz" *ngFor="let quiz of quizForm.get('quiz').controls; let i = index;">
      <div [formGroupName]="i">
        <ion-item>
          <ion-label position="floating">#text</ion-label>
          <ion-input type="text" formControlName="text"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">#language</ion-label>
          <ion-input type="text" formControlName="language"></ion-input>
        </ion-item>
        <button type="button" (click)="delQuizRow(i)">Delete</button>
      </div>
    </div>

    <ion-list>
      <ion-item>
        <ion-label position="floating">#ID</ion-label>
        <ion-input type="text" formControlName="id"></ion-input>
      </ion-item>
    </ion-list>

    <ion-button shape="round" color="primary" expand="block" [disabled]="!quizForm.valid" (click)="saveQuiz()">Save
    </ion-button>
    <button type="button" (click)="addQuizRow()">Add</button>


    <div class="margin-20">
      <div>myForm details:-</div>
      <pre>Is myForm valid?: <br>{{quizForm.valid | json}}</pre>
      <pre>form value: <br>{{quizForm.value | json}}</pre>
    </div>
  </form>
</ion-content>
